{"filter":false,"title":"GruntFile.js","tooltip":"/GruntFile.js","ace":{"folds":[],"scrolltop":129,"scrollleft":0,"selection":{"start":{"row":39,"column":54},"end":{"row":39,"column":54},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":7,"state":"start","mode":"ace/mode/javascript"}},"hash":"2c69878cb615de1257f06089d6833bdc6054ff06","undoManager":{"mark":62,"position":62,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":134,"column":0},"action":"insert","lines":["/*global module*/","module.exports = function (grunt) {","","  'use strict';","","  grunt.initConfig({","","    // This task will be used to clone the heroku repo that contain the released version of the application","    // When executed the docker instance needs to have the ssh key of the beedeez application on heroku","    shell: {","        cloneProductionRepo: {","            command: ['mkdir ../build',","                      'cd ../build',","                      'git clone git@heroku.com:beedeez.git'","                     ].join('&&')","        },","        cloneBetaRepo: {","            command: ['mkdir ../build',","                      'cd ../build',","                      'git clone git@heroku.com:beedeez-beta.git'","                     ].join('&&')","        },","        prepareBuildDir : {","            command: ['mkdir ../build',","                      'cd ../build'].join('&&')","        },","        deploy : {","          command: ['cd ../build/beedeez',","                    'git config --global user.email \"morgan.laupies@gmail.com\"',","                    'git config --global user.name \"ganmor\"',","                    'git add .',","                    'git commit -a -m \"Mep\"',","                    'git push origin master'].join('&&')","        },","        deployBeta : {","          command: ['cd ../build/beedeez-beta',","                    'git config --global user.email \"morgan.laupies@gmail.com\"',","                    'git config --global user.name \"ganmor\"',","                    'git add .',","                    'git commit -a -m \"Mep\"',","                    'git push origin master'].join('&&')","        },","","    },","","     // CLEAN","    clean: {","      options: {","        force: true // to clean outside working dir","      },","      clean: [\"../build\"]","    },","","    subgrunt: {","      options: {","        // Task-specific options go here.","      },","","      server: {","        options: {","          // Target-specific options","        },","        projects: {","          // Paths to sub-projects' gruntfiles","          'server':'default'","        }","      },","","","      client: {","        options: {","          // Target-specific options","        },","        projects: {","          // Paths to sub-projects' gruntfiles","          'client' : 'default'","        }","      }","    },","    copy: {","      main: {","        files: [","            // Copy server ressources into build dir","            {expand: true, src: ['**'], cwd: 'server/build', dest: '../build/beedeez'},","            // Copy full web version of the mobile application","            {expand: true, src: ['**'], cwd: 'client/html5-core/build', dest: '../build/beedeez/public/mob'}","        ]","      },","      beta: {","        files: [","            // Copy server ressources into build dir","            {expand: true, src: ['**'], cwd: 'server/build', dest: '../build/beedeez-beta'},","            // Copy full web version of the mobile application","            {expand: true, src: ['**'], cwd: 'client/html5-core/build', dest: '../build/beedeez-beta/public/mob'}","        ]","      }","    }","","  });","","  // git@heroku.com:beedeez.git","","","  //","  grunt.loadNpmTasks('grunt-contrib-clean');","  grunt.loadNpmTasks('grunt-shell');","  grunt.loadNpmTasks('grunt-subgrunt');","  grunt.loadNpmTasks('grunt-contrib-copy');","","","  grunt.registerTask('default', ['clean',","                                 'shell:prepareBuildDir',","                                 'subgrunt:client',","                                 'subgrunt:server',","                                 'copy']);","","  grunt.registerTask('met', ['clean',","                             'shell:cloneBetaRepo',","                             'subgrunt:client',","                             'subgrunt:server',","                             'copy:beta']);","","  grunt.registerTask('mep', ['clean',","                             'shell:cloneProductionRepo',","                             'subgrunt:client',","                             'subgrunt:server',","                             'copy:main']);","","  ","  grunt.registerTask('deploy-beta', ['shell:deployBeta']);","  grunt.registerTask('deploy-production', ['shell:deploy']);","","","}",""]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":3},"end":{"row":44,"column":0},"action":"remove","lines":[" // This task will be used to clone the heroku repo that contain the released version of the application","    // When executed the docker instance needs to have the ssh key of the beedeez application on heroku","    shell: {","        cloneProductionRepo: {","            command: ['mkdir ../build',","                      'cd ../build',","                      'git clone git@heroku.com:beedeez.git'","                     ].join('&&')","        },","        cloneBetaRepo: {","            command: ['mkdir ../build',","                      'cd ../build',","                      'git clone git@heroku.com:beedeez-beta.git'","                     ].join('&&')","        },","        prepareBuildDir : {","            command: ['mkdir ../build',","                      'cd ../build'].join('&&')","        },","        deploy : {","          command: ['cd ../build/beedeez',","                    'git config --global user.email \"morgan.laupies@gmail.com\"',","                    'git config --global user.name \"ganmor\"',","                    'git add .',","                    'git commit -a -m \"Mep\"',","                    'git push origin master'].join('&&')","        },","        deployBeta : {","          command: ['cd ../build/beedeez-beta',","                    'git config --global user.email \"morgan.laupies@gmail.com\"',","                    'git config --global user.name \"ganmor\"',","                    'git add .',","                    'git commit -a -m \"Mep\"',","                    'git push origin master'].join('&&')","        },","","    },",""]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":0},"end":{"row":7,"column":3},"action":"remove","lines":["","   "]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":0},"end":{"row":14,"column":0},"action":"remove","lines":["     // CLEAN","    clean: {","      options: {","        force: true // to clean outside working dir","      },","      clean: [\"../build\"]","    },",""]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":0},"end":{"row":34,"column":0},"action":"remove","lines":["","    subgrunt: {","      options: {","        // Task-specific options go here.","      },","","      server: {","        options: {","          // Target-specific options","        },","        projects: {","          // Paths to sub-projects' gruntfiles","          'server':'default'","        }","      },","","","      client: {","        options: {","          // Target-specific options","        },","        projects: {","          // Paths to sub-projects' gruntfiles","          'client' : 'default'","        }","      }","    },",""]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":0},"end":{"row":25,"column":0},"action":"remove","lines":["    copy: {","      main: {","        files: [","            // Copy server ressources into build dir","            {expand: true, src: ['**'], cwd: 'server/build', dest: '../build/beedeez'},","            // Copy full web version of the mobile application","            {expand: true, src: ['**'], cwd: 'client/html5-core/build', dest: '../build/beedeez/public/mob'}","        ]","      },","      beta: {","        files: [","            // Copy server ressources into build dir","            {expand: true, src: ['**'], cwd: 'server/build', dest: '../build/beedeez-beta'},","            // Copy full web version of the mobile application","            {expand: true, src: ['**'], cwd: 'client/html5-core/build', dest: '../build/beedeez-beta/public/mob'}","        ]","      }","    }",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":44,"column":0},"action":"remove","lines":["/*global module*/","module.exports = function (grunt) {","","  'use strict';","","  grunt.initConfig({","","","  });","","  // git@heroku.com:beedeez.git","","","  //","  grunt.loadNpmTasks('grunt-contrib-clean');","  grunt.loadNpmTasks('grunt-shell');","  grunt.loadNpmTasks('grunt-subgrunt');","  grunt.loadNpmTasks('grunt-contrib-copy');","","","  grunt.registerTask('default', ['clean',","                                 'shell:prepareBuildDir',","                                 'subgrunt:client',","                                 'subgrunt:server',","                                 'copy']);","","  grunt.registerTask('met', ['clean',","                             'shell:cloneBetaRepo',","                             'subgrunt:client',","                             'subgrunt:server',","                             'copy:beta']);","","  grunt.registerTask('mep', ['clean',","                             'shell:cloneProductionRepo',","                             'subgrunt:client',","                             'subgrunt:server',","                             'copy:main']);","","  ","  grunt.registerTask('deploy-beta', ['shell:deployBeta']);","  grunt.registerTask('deploy-production', ['shell:deploy']);","","","}",""]},{"start":{"row":0,"column":0},"end":{"row":365,"column":2},"action":"insert","lines":["/*global module*/","module.exports = function (grunt) {","","  // TODO: create sub directory in build","  // +> Put everything that's going to be deployed on elastic beanstalk in one directory","  // +> Cre a directory native and put final binaries there","","  // Project configuration.","  grunt.initConfig({","    pkg: grunt.file.readJSON('package.json'),","    ec2: 'path/to/whatever.json', // Grunt ec2 deployment is only meant to be the test version","    // The production version will be released from the continuous integration platform (yml script)","     // MINIFY JS","    uglify: {","      options: {","        banner: '/*! <%= pkg.name %>  */\\n',","        // mangle: false,","        // banner: '/*! <%= pkg.name %> BUILD <%= grunt.template.today(\"yyyy-mm-dd\") %> */\\n',","        comments: false,","        // beautify: true","      },","","","","      concat: {","         files: {","          // angular","          'build/public/app/js/app.min.js': [","","            // FOLLOWING FILES ORDER IS IMPORTANT","","            // UTILS","            'public/app/js/utils/module.js',","            'public/app/js/utils/ctrl/breadcrumb.js',","            'public/app/js/utils/footer.js',","","            'public/app/js/utils/breadcrumb.js',","            'public/app/js/utils/directives.js',","            'public/app/js/utils/factories.js',","            'public/app/js/utils/services.js',","            'public/app/js/utils/filters.js',","","            // MEMBER","            'public/app/js/member/module.js',","            'public/app/js/member/directives.js',","            'public/app/js/member/constants.js',","            'public/app/js/member/factories.js',","","            'public/app/js/member/ctrl/home.js',","            'public/app/js/member/ctrl/lesson.js',","            'public/app/js/member/ctrl/lessons.js',","            'public/app/js/member/ctrl/profile.js',","","            // HOME","            'public/app/js/home/module.js',","            'public/app/js/home/ctrl/home.js',","            'public/app/js/home/ctrl/volatile.js',","            'public/app/js/home/directives.js',","            'public/app/js/member/constants.js',","            'public/app/js/member/factories.js',","","            // AUTH","            'public/app/js/auth/module.js',","            'public/app/js/auth/services/services.js',","            'public/app/js/auth/services/session.js',","            'public/app/js/auth/services/auth.js',","            'public/app/js/auth/services/token-handler.js',","","            'public/app/js/auth/constants/constants.js',","            'public/app/js/auth/constants/AUTH_EVENTS.js',","            'public/app/js/auth/constants/USER_ROLES.js',","","            'public/app/js/auth/ctrl/login.js',","            'public/app/js/auth/ctrl/logout.js',","            'public/app/js/auth/ctrl/signup.js',","","            'public/app/js/auth/factories.js',","","             // ADMIN","            'public/app/js/admin/module.js',","            'public/app/js/admin/directives.js',","            'public/app/js/admin/factories.js',","","            'public/app/js/admin/ctrl/authors.js',","            'public/app/js/admin/ctrl/home.js',","            'public/app/js/admin/ctrl/lesson-active.js',","            'public/app/js/admin/ctrl/lesson-achieved.js',","            'public/app/js/admin/ctrl/lesson.js',","            'public/app/js/admin/ctrl/reward-badge.js',","            'public/app/js/admin/ctrl/reward.js',","            'public/app/js/admin/ctrl/theme.js',","            'public/app/js/admin/ctrl/user.js',","","            // ROOT","            'public/app/js/config.js',","            'public/app/js/main.js',","            'public/app/js/app.js'","          ],","        }","      },","","      // MINIFY PUBLIC JS","      build: {","        files: {","          // angular","          'build/public/app/js/app.min.js': [","","            // FOLLOWING FILES ORDER IS IMPORTANT","","            // UTILS","            'public/app/js/utils/module.js',","            'public/app/js/utils/ctrl/breadcrumb.js',","            'public/app/js/utils/footer.js',","","            'public/app/js/utils/breadcrumb.js',","            'public/app/js/utils/directives.js',","            'public/app/js/utils/factories.js',","            'public/app/js/utils/services.js',","            'public/app/js/utils/filters.js',","","            // MEMBER","            'public/app/js/member/module.js',","            'public/app/js/member/directives.js',","            'public/app/js/member/constants.js',","            'public/app/js/member/factories.js',","","            'public/app/js/member/ctrl/home.js',","            'public/app/js/member/ctrl/lesson.js',","            'public/app/js/member/ctrl/lessons.js',","            'public/app/js/member/ctrl/profile.js',","","            // HOME","            'public/app/js/home/module.js',","            'public/app/js/home/ctrl/home.js',","            'public/app/js/home/ctrl/volatile.js',","            'public/app/js/home/directives.js',","            'public/app/js/member/constants.js',","            'public/app/js/member/factories.js',","","            // AUTH","            'public/app/js/auth/module.js',","            'public/app/js/auth/services/services.js',","            'public/app/js/auth/services/session.js',","            'public/app/js/auth/services/auth.js',","            'public/app/js/auth/services/token-handler.js',","","            'public/app/js/auth/constants/constants.js',","            'public/app/js/auth/constants/AUTH_EVENTS.js',","            'public/app/js/auth/constants/USER_ROLES.js',","","            'public/app/js/auth/ctrl/login.js',","            'public/app/js/auth/ctrl/logout.js',","            'public/app/js/auth/ctrl/signup.js',","","            'public/app/js/auth/factories.js',","","             // ADMIN","            'public/app/js/admin/module.js',","            'public/app/js/admin/directives.js',","            'public/app/js/admin/factories.js',","","            'public/app/js/admin/ctrl/authors.js',","            'public/app/js/admin/ctrl/home.js',","            'public/app/js/admin/ctrl/lesson-active.js',","            'public/app/js/admin/ctrl/lesson-achieved.js',","            'public/app/js/admin/ctrl/lesson.js',","            'public/app/js/admin/ctrl/reward-badge.js',","            'public/app/js/admin/ctrl/reward.js',","            'public/app/js/admin/ctrl/theme.js',","            'public/app/js/admin/ctrl/user.js',","","            // ROOT","            'public/app/js/config.js',","            'public/app/js/main.js',","            'public/app/js/app.js'","          ],","        }","      },","      // MINIFY NODEJS","      buildNodeJs: {","        options: {","          banner: '/*! <%= pkg.name %> <%= grunt.template.today(\"yyyy-mm-dd\") %> */\\n',","          comments: false","          // compress: false,","          // beautify: true,","          // mangle: false","        },","        files: {","          // NODEJS","","          // boot","          'build/boot/configure.js': [","            'boot/configure.js'","          ],","          'build/boot/i18n.js': [","            'boot/i18n.js'","          ],","          'build/boot/logger.js': [","            'boot/logger.js'","          ],","          'build/boot/passport.js': [","            'boot/passport.js'","          ]","        }","      }","    },","    // MINIFY CSS","    cssmin: {","      options: {","        keepSpecialComments: false","      },","      compress: {","        files: {","          // core","          'public/stylesheets/css/style.min.css': [","          'public/stylesheets/css/style.css'","          ]","","        }","      }","      // with_banner: {","      //   options: {","      //     banner: '/* Here is some work, respect it. */'","      //   },","      //   files: {","      //     'path/to/output.css': ['path/to/**/*.css']","      //   }","      // }","    },","    // COMPILE JADE","    jade: {","      compile: {","        options: {","          data: {","            debug: true, t: function()  {return ''},self: true","          }","        },","        files: [","        {","          expand: true,","          ext: '.html',","          src: ['views/**/*.jade'],","          dest : 'build/views/'","        }]","      }","    },","    // COPY CONTENT","    copy: {","      main: {","        files: [","          // i18N","          {expand: true, src: ['public/app/**'],            dest: 'build/'},","          // jade","          {expand: true, src: ['core/views/**'],                  dest: 'build/'},","          //core","          {expand: true, src: ['core/controllers/**'],             dest: 'build/'},","          {expand: true, src: ['core/models/**'],                  dest: 'build/'},","          {expand: true, src: ['core/factories/**'],               dest: 'build/'},","          {expand: true, src: ['core/routes/**'],                  dest: 'build/'},","","          // bower","          {expand: true, src: ['public/app/bower_components/**'],   dest: 'build/'},","          // stylesheets","          {expand: true, src: ['public/app/stylesheets/**'],        dest: 'build/'},","          // config","          {expand: true, src: ['configs/**'],        dest: 'build/'},","          // i18n server","          {expand: true, src: ['locales/**'],        dest: 'build/'},","          // utils","          {expand: true, src: ['boot/**'],        dest: 'build/'},","","          {expand: true, src: ['utils/**'],        dest: 'build/'},","          // js (app/grunt)","          {expand: true, src: ['*.js', '*.json'],        dest: 'build/'}","","          // {expand: true, src: ['path/**'], dest: 'dest/'}, // includes files in path and its subdirs","          // {expand: true, cwd: 'path/', src: ['**'], dest: 'dest/'}, // makes all src relative to cwd","          // {expand: true, flatten: true, src: ['path/**'], dest: 'dest/', filter: 'isFile'} // flattens results to a single level","        ]","      }","    },","    // MAKE A ZIP OR RELEASE","    compress: {","      main: {","        options: {","          mode: 'zip',","          archive: 'build/release_<%= grunt.template.today(\"yyyy-mm-dd HH-MM-ss\") %>.zip',","          // pretty: 'true',","        },","        files: [","          // {expand: true, src: ['build/**']}","          {expand: true, src: ['**/*'], cwd: '../../build'}","        ]","      }","    },","    // LESS CSS TASKS","    less: {","      development: {","        options: {","          paths: ['public/app/bower_components/bootstrap/less/', 'public/stylesheets/less/']","        },","        files: {","          'public/app/bower_components/bootstrap/dist/css/bootstrap.css': 'public/app/bower_components/bootstrap/less/bootstrap.less',","          'public/stylesheets/css/style-dev.css': 'public/stylesheets/less/style.less'","        }","      },","      production: {","        options: {","          paths: ['public/javascripts/bootstrap/less/', 'public/stylesheets/less/'],","          yuicompress: true","        },","        files: {","          'public/javascripts/bootstrap/css/bootstrap.css': 'public/javascripts/bootstrap/less/bootstrap.less',","          'public/stylesheets/css/style.css': 'public/stylesheets/less/style.less'","        }","      }","    },","","","    // CLEAN","    clean: {","      options: {","        force: true // to clean outside working dir","      },","      clean: [\"build/\"]","    }","  });","","  // Module checker","  // grunt.registerTask('default', ['jshint', 'check-modules']);","","  // Load clean plugin","  grunt.loadNpmTasks('grunt-contrib-clean');","","  // copy plugin","  grunt.loadNpmTasks('grunt-contrib-copy');","","  // jade compilation","  grunt.loadNpmTasks('grunt-contrib-jade');","","  // Load the plugin that provides the \"uglify\" task.","  grunt.loadNpmTasks('grunt-contrib-uglify');","","  // Load the plugin that provides the \"cssmin\" task.","  grunt.loadNpmTasks('grunt-contrib-cssmin');","","  // Load the plugin that provides the \"less\" task.","  grunt.loadNpmTasks('grunt-contrib-less');","","  // Load the plugin that provides the \"compress\" task.","  grunt.loadNpmTasks('grunt-contrib-compress');","","","  // TASKS","","  // DEFAULT TEST ENVIRONMENT","  grunt.registerTask('default', ['clean','uglify:concat','copy'/*, 'compress'*/]);","","  // PRODUCTION ENVIRONMENT","  grunt.registerTask('production', ['clean','less','uglify','cssmin','copy'/*, 'compress'*/]);","","  // EXAMPLE","  // grunt.registerTask('production', ['clean','less','uglify','cssmin','copy', 'compress']);","","","};"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":0},"end":{"row":177,"column":8},"action":"remove","lines":["","","      concat: {","         files: {","          // angular","          'build/public/app/js/app.min.js': [","","            // FOLLOWING FILES ORDER IS IMPORTANT","","            // UTILS","            'public/app/js/utils/module.js',","            'public/app/js/utils/ctrl/breadcrumb.js',","            'public/app/js/utils/footer.js',","","            'public/app/js/utils/breadcrumb.js',","            'public/app/js/utils/directives.js',","            'public/app/js/utils/factories.js',","            'public/app/js/utils/services.js',","            'public/app/js/utils/filters.js',","","            // MEMBER","            'public/app/js/member/module.js',","            'public/app/js/member/directives.js',","            'public/app/js/member/constants.js',","            'public/app/js/member/factories.js',","","            'public/app/js/member/ctrl/home.js',","            'public/app/js/member/ctrl/lesson.js',","            'public/app/js/member/ctrl/lessons.js',","            'public/app/js/member/ctrl/profile.js',","","            // HOME","            'public/app/js/home/module.js',","            'public/app/js/home/ctrl/home.js',","            'public/app/js/home/ctrl/volatile.js',","            'public/app/js/home/directives.js',","            'public/app/js/member/constants.js',","            'public/app/js/member/factories.js',","","            // AUTH","            'public/app/js/auth/module.js',","            'public/app/js/auth/services/services.js',","            'public/app/js/auth/services/session.js',","            'public/app/js/auth/services/auth.js',","            'public/app/js/auth/services/token-handler.js',","","            'public/app/js/auth/constants/constants.js',","            'public/app/js/auth/constants/AUTH_EVENTS.js',","            'public/app/js/auth/constants/USER_ROLES.js',","","            'public/app/js/auth/ctrl/login.js',","            'public/app/js/auth/ctrl/logout.js',","            'public/app/js/auth/ctrl/signup.js',","","            'public/app/js/auth/factories.js',","","             // ADMIN","            'public/app/js/admin/module.js',","            'public/app/js/admin/directives.js',","            'public/app/js/admin/factories.js',","","            'public/app/js/admin/ctrl/authors.js',","            'public/app/js/admin/ctrl/home.js',","            'public/app/js/admin/ctrl/lesson-active.js',","            'public/app/js/admin/ctrl/lesson-achieved.js',","            'public/app/js/admin/ctrl/lesson.js',","            'public/app/js/admin/ctrl/reward-badge.js',","            'public/app/js/admin/ctrl/reward.js',","            'public/app/js/admin/ctrl/theme.js',","            'public/app/js/admin/ctrl/user.js',","","            // ROOT","            'public/app/js/config.js',","            'public/app/js/main.js',","            'public/app/js/app.js'","          ],","        }","      },","","      // MINIFY PUBLIC JS","      build: {","        files: {","          // angular","          'build/public/app/js/app.min.js': [","","            // FOLLOWING FILES ORDER IS IMPORTANT","","            // UTILS","            'public/app/js/utils/module.js',","            'public/app/js/utils/ctrl/breadcrumb.js',","            'public/app/js/utils/footer.js',","","            'public/app/js/utils/breadcrumb.js',","            'public/app/js/utils/directives.js',","            'public/app/js/utils/factories.js',","            'public/app/js/utils/services.js',","            'public/app/js/utils/filters.js',","","            // MEMBER","            'public/app/js/member/module.js',","            'public/app/js/member/directives.js',","            'public/app/js/member/constants.js',","            'public/app/js/member/factories.js',","","            'public/app/js/member/ctrl/home.js',","            'public/app/js/member/ctrl/lesson.js',","            'public/app/js/member/ctrl/lessons.js',","            'public/app/js/member/ctrl/profile.js',","","            // HOME","            'public/app/js/home/module.js',","            'public/app/js/home/ctrl/home.js',","            'public/app/js/home/ctrl/volatile.js',","            'public/app/js/home/directives.js',","            'public/app/js/member/constants.js',","            'public/app/js/member/factories.js',","","            // AUTH","            'public/app/js/auth/module.js',","            'public/app/js/auth/services/services.js',","            'public/app/js/auth/services/session.js',","            'public/app/js/auth/services/auth.js',","            'public/app/js/auth/services/token-handler.js',","","            'public/app/js/auth/constants/constants.js',","            'public/app/js/auth/constants/AUTH_EVENTS.js',","            'public/app/js/auth/constants/USER_ROLES.js',","","            'public/app/js/auth/ctrl/login.js',","            'public/app/js/auth/ctrl/logout.js',","            'public/app/js/auth/ctrl/signup.js',","","            'public/app/js/auth/factories.js',","","             // ADMIN","            'public/app/js/admin/module.js',","            'public/app/js/admin/directives.js',","            'public/app/js/admin/factories.js',","","            'public/app/js/admin/ctrl/authors.js',","            'public/app/js/admin/ctrl/home.js',","            'public/app/js/admin/ctrl/lesson-active.js',","            'public/app/js/admin/ctrl/lesson-achieved.js',","            'public/app/js/admin/ctrl/lesson.js',","            'public/app/js/admin/ctrl/reward-badge.js',","            'public/app/js/admin/ctrl/reward.js',","            'public/app/js/admin/ctrl/theme.js',","            'public/app/js/admin/ctrl/user.js',","","            // ROOT","            'public/app/js/config.js',","            'public/app/js/main.js',","            'public/app/js/app.js'","          ],","        }","      },"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":0},"end":{"row":22,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":3},"end":{"row":51,"column":3},"action":"remove","lines":[" uglify: {","      options: {","        banner: '/*! <%= pkg.name %>  */\\n',","        // mangle: false,","        // banner: '/*! <%= pkg.name %> BUILD <%= grunt.template.today(\"yyyy-mm-dd\") %> */\\n',","        comments: false,","        // beautify: true","      },","","      // MINIFY NODEJS","      buildNodeJs: {","        options: {","          banner: '/*! <%= pkg.name %> <%= grunt.template.today(\"yyyy-mm-dd\") %> */\\n',","          comments: false","          // compress: false,","          // beautify: true,","          // mangle: false","        },","        files: {","          // NODEJS","","          // boot","          'build/boot/configure.js': [","            'boot/configure.js'","          ],","          'build/boot/i18n.js': [","            'boot/i18n.js'","          ],","          'build/boot/logger.js': [","            'boot/logger.js'","          ],","          'build/boot/passport.js': [","            'boot/passport.js'","          ]","        }","      }","    },","    // MINIFY CSS","   "]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":4},"end":{"row":100,"column":6},"action":"remove","lines":["ec2: 'path/to/whatever.json', // Grunt ec2 deployment is only meant to be the test version","    // The production version will be released from the continuous integration platform (yml script)","     // MINIFY JS","    cssmin: {","      options: {","        keepSpecialComments: false","      },","      compress: {","        files: {","          // core","          'public/stylesheets/css/style.min.css': [","          'public/stylesheets/css/style.css'","          ]","","        }","      }","      // with_banner: {","      //   options: {","      //     banner: '/* Here is some work, respect it. */'","      //   },","      //   files: {","      //     'path/to/output.css': ['path/to/**/*.css']","      //   }","      // }","    },","    // COMPILE JADE","    jade: {","      compile: {","        options: {","          data: {","            debug: true, t: function()  {return ''},self: true","          }","        },","        files: [","        {","          expand: true,","          ext: '.html',","          src: ['views/**/*.jade'],","          dest : 'build/views/'","        }]","      }","    },","    // COPY CONTENT","    copy: {","      main: {","        files: [","          // i18N","          {expand: true, src: ['public/app/**'],            dest: 'build/'},","          // jade","          {expand: true, src: ['core/views/**'],                  dest: 'build/'},","          //core","          {expand: true, src: ['core/controllers/**'],             dest: 'build/'},","          {expand: true, src: ['core/models/**'],                  dest: 'build/'},","          {expand: true, src: ['core/factories/**'],               dest: 'build/'},","          {expand: true, src: ['core/routes/**'],                  dest: 'build/'},","","          // bower","          {expand: true, src: ['public/app/bower_components/**'],   dest: 'build/'},","          // stylesheets","          {expand: true, src: ['public/app/stylesheets/**'],        dest: 'build/'},","          // config","          {expand: true, src: ['configs/**'],        dest: 'build/'},","          // i18n server","          {expand: true, src: ['locales/**'],        dest: 'build/'},","          // utils","          {expand: true, src: ['boot/**'],        dest: 'build/'},","","          {expand: true, src: ['utils/**'],        dest: 'build/'},","          // js (app/grunt)","          {expand: true, src: ['*.js', '*.json'],        dest: 'build/'}","","          // {expand: true, src: ['path/**'], dest: 'dest/'}, // includes files in path and its subdirs","          // {expand: true, cwd: 'path/', src: ['**'], dest: 'dest/'}, // makes all src relative to cwd","          // {expand: true, flatten: true, src: ['path/**'], dest: 'dest/', filter: 'isFile'} // flattens results to a single level","        ]","      }","    },","    // MAKE A ZIP OR RELEASE","    compress: {","      main: {","        options: {","          mode: 'zip',","          archive: 'build/release_<%= grunt.template.today(\"yyyy-mm-dd HH-MM-ss\") %>.zip',","          // pretty: 'true',","        },","        files: [","          // {expand: true, src: ['build/**']}","          {expand: true, src: ['**/*'], cwd: '../../build'}","        ]","      }","    },"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":0},"end":{"row":6,"column":0},"action":"remove","lines":["  // TODO: create sub directory in build","  // +> Put everything that's going to be deployed on elastic beanstalk in one directory","  // +> Cre a directory native and put final binaries there",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":26},"end":{"row":11,"column":62},"action":"remove","lines":["app/bower_components/bootstrap/less/"]},{"start":{"row":11,"column":26},"end":{"row":11,"column":27},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":27},"end":{"row":11,"column":28},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":19},"end":{"row":11,"column":28},"action":"remove","lines":["public/st"]},{"start":{"row":11,"column":19},"end":{"row":11,"column":43},"action":"insert","lines":["public/stylesheets/less/"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":42},"end":{"row":11,"column":43},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":41},"end":{"row":11,"column":42},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":40},"end":{"row":11,"column":41},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":39},"end":{"row":11,"column":40},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":38},"end":{"row":11,"column":39},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":39},"end":{"row":11,"column":67},"action":"remove","lines":[", 'public/stylesheets/less/'"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":11},"end":{"row":14,"column":58},"action":"remove","lines":["public/app/bower_components/bootstrap/dist/css/"]},{"start":{"row":14,"column":11},"end":{"row":14,"column":30},"action":"insert","lines":["public/stylesheets/"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":30},"end":{"row":14,"column":39},"action":"remove","lines":["bootstrap"]},{"start":{"row":14,"column":30},"end":{"row":14,"column":31},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":31},"end":{"row":14,"column":32},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":32},"end":{"row":14,"column":33},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":33},"end":{"row":14,"column":34},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":34},"end":{"row":14,"column":35},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":34},"end":{"row":14,"column":35},"action":"remove","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":42},"end":{"row":14,"column":85},"action":"remove","lines":["public/app/bower_components/bootstrap/less/"]},{"start":{"row":14,"column":42},"end":{"row":14,"column":61},"action":"insert","lines":["public/stylesheets/"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":61},"end":{"row":14,"column":70},"action":"remove","lines":["bootstrap"]},{"start":{"row":14,"column":61},"end":{"row":14,"column":62},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":62},"end":{"row":14,"column":63},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":63},"end":{"row":14,"column":64},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":64},"end":{"row":14,"column":65},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":10},"end":{"row":15,"column":86},"action":"remove","lines":["'public/stylesheets/css/style-dev.css': 'public/stylesheets/less/style.less'"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":72},"end":{"row":15,"column":10},"action":"remove","lines":["","          "]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":71},"end":{"row":14,"column":72},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":4},"end":{"row":36,"column":5},"action":"remove","lines":["// CLEAN","    clean: {","      options: {","        force: true // to clean outside working dir","      },","      clean: [\"build/\"]","    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":0},"end":{"row":30,"column":2},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":29,"column":0},"end":{"row":30,"column":2},"action":"remove","lines":["","  "]}]}],[{"group":"doc","deltas":[{"start":{"row":28,"column":0},"end":{"row":29,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":6},"end":{"row":28,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":5},"end":{"row":27,"column":6},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":2},"end":{"row":34,"column":44},"action":"remove","lines":["// grunt.registerTask('default', ['jshint', 'check-modules']);","","  // Load clean plugin","  grunt.loadNpmTasks('grunt-contrib-clean');"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":0},"end":{"row":44,"column":0},"action":"remove","lines":["","  // copy plugin","  grunt.loadNpmTasks('grunt-contrib-copy');","","  // jade compilation","  grunt.loadNpmTasks('grunt-contrib-jade');","","  // Load the plugin that provides the \"uglify\" task.","  grunt.loadNpmTasks('grunt-contrib-uglify');","","  // Load the plugin that provides the \"cssmin\" task.","  grunt.loadNpmTasks('grunt-contrib-cssmin');",""]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":2},"end":{"row":39,"column":0},"action":"remove","lines":["// Load the plugin that provides the \"compress\" task.","  grunt.loadNpmTasks('grunt-contrib-compress');","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":0},"end":{"row":36,"column":2},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":0},"end":{"row":36,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":41},"end":{"row":39,"column":42},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":38},"end":{"row":39,"column":39},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":37},"end":{"row":39,"column":38},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":36},"end":{"row":39,"column":37},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":35},"end":{"row":39,"column":36},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":34},"end":{"row":39,"column":35},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":34},"end":{"row":39,"column":35},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":35},"end":{"row":39,"column":36},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":36},"end":{"row":39,"column":37},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":37},"end":{"row":39,"column":38},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":38},"end":{"row":39,"column":39},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":39},"end":{"row":39,"column":50},"action":"insert","lines":["development"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":51},"end":{"row":39,"column":91},"action":"remove","lines":[",,'uglify:concat','copy'/*, 'compress'*/"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":0},"end":{"row":46,"column":0},"action":"remove","lines":["","  // PRODUCTION ENVIRONMENT","  grunt.registerTask('production', ['clean','less','uglify','cssmin','copy'/*, 'compress'*/]);","","  // EXAMPLE","  // grunt.registerTask('production', ['clean','less','uglify','cssmin','copy', 'compress']);",""]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":54},"end":{"row":40,"column":0},"action":"remove","lines":["",""]}]}]]},"timestamp":1422105549638}