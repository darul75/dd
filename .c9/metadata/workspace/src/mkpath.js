{"filter":false,"title":"mkpath.js","tooltip":"/src/mkpath.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":58,"column":0},"action":"insert","lines":["var fs = require('fs');","var path = require('path');","","var mkpath = function mkpath(dirpath, mode, callback) {","    dirpath = path.resolve(dirpath);","","    if (typeof mode === 'function' || typeof mode === 'undefined') {","        callback = mode;","        mode = 0777 & (~process.umask());","    }","","    if (!callback) {","        callback = function () {};","    }","","    fs.stat(dirpath, function (err, stats) {","        if (err) {","            if (err.code === 'ENOENT') {","                mkpath(path.dirname(dirpath), mode, function (err) {","                    if (err) {","                        callback(err);","                    } else {","                        fs.mkdir(dirpath, mode, callback);","                    }","                });","            } else {","                callback(err);","            }","        } else if (stats.isDirectory()) {","            callback(null);","        } else {","            callback(new Error(dirpath + ' exists and is not a directory'));","        }","    });","};","","mkpath.sync = function mkpathsync(dirpath, mode) {","    dirpath = path.resolve(dirpath);","","    if (typeof mode === 'undefined') {","        mode = 0777 & (~process.umask());","    }","","    try {","        if (!fs.statSync(dirpath).isDirectory()) {","            throw new Error(dirpath + ' exists and is not a directory');","        }","    } catch (err) {","        if (err.code === 'ENOENT') {","            mkpathsync(path.dirname(dirpath), mode);","            fs.mkdirSync(dirpath, mode);","        } else {","            throw err;","        }","    }","};","","module.exports = mkpath;",""]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":4},"end":{"row":3,"column":10},"action":"remove","lines":["mkpath"]}]}]]},"ace":{"folds":[],"customSyntax":"javascript","scrolltop":310,"scrollleft":0,"selection":{"start":{"row":39,"column":4},"end":{"row":39,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"ac7dbc6134d9d0d2db57f3d731ee0326d2bad9c8"}